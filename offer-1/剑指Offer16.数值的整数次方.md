# 剑指Offer16.数值的整数次方

### 题目：

实现 [pow(*x*, *n*)](https://www.cplusplus.com/reference/valarray/pow/) ，即计算 x 的 n 次幂函数（即，xn）。不得使用库函数，同时不需要考虑大数问题。

#### 示例1：

```
输入：x = 2.00000, n = 10
输出：1024.00000
```

#### 示例2：

```
输入：x = 2.10000, n = 3
输出：9.26100
```

#### 示例3：

```
输入：x = 2.00000, n = -2
输出：0.25000
解释：2-2 = 1/22 = 1/4 = 0.25
```



### 解答：

#### 解法：快速幂

​	循环更新x的值，每一轮都让 `x = x * x` ，且只有当n的最后一位为 `1` 的时候，才会乘以当前更新到的x的值。

​	例：计算 `pow(2, 11)` 可以根据 11（二进制数1011）拆分成  $$2^4$$ * $$2^1$$ * $$2^0$$

​	只有在二进制位为 1 的时候，才会将res乘以循环更新的x

```js
/**
 * @param {number} x
 * @param {number} n
 * @return {number}
 */
var myPow = function(x, n) {
    if (n === 0) return 0
    let  res = 1
    if (n < 0) { // 如果指数n是负数情况下的处理
        x = 1 / x
        n = -n
    }
    while (n) {
        if (n & 1 === 1) {
            res *= x
        }
        x *= x
        n >>>= 1
    }
    return res
};
```

