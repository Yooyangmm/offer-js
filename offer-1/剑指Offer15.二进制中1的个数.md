# 剑指Offer15.二进制中1的个数

### 题目：

编写一个函数，输入是一个无符号整数（以二进制串的形式），返回其二进制表达式中数字位数为 '1' 的个数（也被称为 [汉明重量](http://en.wikipedia.org/wiki/Hamming_weight)).）。

#### 示例1：

```
输入：n = 11 (控制台输入 00000000000000000000000000001011)
输出：3
解释：输入的二进制串 00000000000000000000000000001011 中，共有三位为 '1'。
```

#### 示例2：

```
输入：n = 128 (控制台输入 00000000000000000000000010000000)
输出：1
解释：输入的二进制串 00000000000000000000000010000000 中，共有一位为 '1'。
```



### 解答：

#### 解法一：位运算

​	例： 11(二进制表示为 00000000000000000000000000001011)

- ​	对它进行**无符号右移**1位的结果是：5(二进制表示为 00000000000000000000000000000101)
- ​	对它进行**无符号右移**2位的结果是：4(二进制表示为 00000000000000000000000000000010)
- ​	对它进行**无符号右移**3位的结果是：1(二进制表示为 00000000000000000000000000000001)
- ​	对它进行**无符号右移**4位的结果是：0(二进制表示为 00000000000000000000000000000000)

​    并且，**每一个奇数的二进制形式最后一位都一定是1** 

​	因此，对于每一个



ps：在JavaScript中，无符号位移用 `>>>` 或 `<<<` 来表示，有符号位移用 `>>` 或 `<<` 来表示。

```js
/**
 * @param {number} n - a positive integer
 * @return {number}
 */
var hammingWeight = function(n) {
    let res = 0
    while (n) {
        if (n & 1 === 1) { // 如果是奇数，res++
            res++
        }
        n >>>= 1 
    }
    return res
};
```

#### 解法二：位运算优化

​	`n = n & (n−1)` 这个算法的运算结果为：把 n 的二进制位中的最低位的 1 变为 0 之后。相当于每经历一次 `n = n & (n−1)` 运算，都会把n的二进制位的最后一个 1 变成 0 ，所以可以根据这个进行迭代。

```js
/**
 * @param {number} n - a positive integer
 * @return {number}
 */
var hammingWeight = function(n) {
    let res = 0
    while (n) {
        n = n & (n - 1)
        res++
    }
    return res
};
```

